<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>03-è¯­æ³•åˆ†æï¼ˆä¸€ï¼‰ï¼šçº¯æ‰‹å·¥æ‰“é€ å…¬å¼è®¡ç®—å™¨</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <style>
        html {
            color: #333;
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
            text-rendering: optimizelegibility;
            font-family: Helvetica Neue, PingFang SC, Verdana, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, sans-serif
        }

        html.borderbox *,
        html.borderbox :after,
        html.borderbox :before {
            box-sizing: border-box
        }

        article,
        aside,
        blockquote,
        body,
        button,
        code,
        dd,
        details,
        dl,
        dt,
        fieldset,
        figcaption,
        figure,
        footer,
        form,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        header,
        hr,
        input,
        legend,
        li,
        menu,
        nav,
        ol,
        p,
        pre,
        section,
        td,
        textarea,
        th,
        ul {
            margin: 0;
            padding: 0
        }

        article,
        aside,
        details,
        figcaption,
        figure,
        footer,
        header,
        menu,
        nav,
        section {
            display: block
        }

        audio,
        canvas,
        video {
            display: inline-block
        }

        body,
        button,
        input,
        select,
        textarea {
            font: 300 1em/1.8 PingFang SC, Lantinghei SC, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, Helvetica, sans-serif
        }

        button::-moz-focus-inner,
        input::-moz-focus-inner {
            padding: 0;
            border: 0
        }

        table {
            border-collapse: collapse;
            border-spacing: 0
        }

        fieldset,
        img {
            border: 0
        }

        blockquote {
            position: relative;
            color: #999;
            font-weight: 400;
            border-left: 1px solid #1abc9c;
            padding-left: 1em;
            margin: 1em 3em 1em 2em
        }

        @media only screen and (max-width: 640px) {
            blockquote {
                margin: 1em 0
            }
        }

        abbr,
        acronym {
            border-bottom: 1px dotted;
            font-variant: normal
        }

        abbr {
            cursor: help
        }

        del {
            text-decoration: line-through
        }

        address,
        caption,
        cite,
        code,
        dfn,
        em,
        th,
        var {
            font-style: normal;
            font-weight: 400
        }

        ol,
        ul {
            list-style: none
        }

        caption,
        th {
            text-align: left
        }

        q:after,
        q:before {
            content: ""
        }

        sub,
        sup {
            font-size: 75%;
            line-height: 0;
            position: relative
        }

        :root sub,
        :root sup {
            vertical-align: baseline
        }

        sup {
            top: -.5em
        }

        sub {
            bottom: -.25em
        }

        a {
            color: #1abc9c
        }

        a:hover {
            text-decoration: underline
        }

        .typo a {
            border-bottom: 1px solid #1abc9c
        }

        .typo a:hover {
            border-bottom-color: #555;
            color: #555
        }

        .typo a:hover,
        a,
        ins {
            text-decoration: none
        }

        .typo-u,
        u {
            text-decoration: underline
        }

        mark {
            background: #fffdd1;
            border-bottom: 1px solid #ffedce;
            padding: 2px;
            margin: 0 5px
        }

        code,
        pre,
        pre tt {
            font-family: Courier, Courier New, monospace
        }

        pre {
            background: hsla(0, 0%, 97%, .7);
            border: 1px solid #ddd;
            padding: 1em 1.5em;
            display: block;
            -webkit-overflow-scrolling: touch
        }

        hr {
            border: none;
            border-bottom: 1px solid #cfcfcf;
            margin-bottom: .8em;
            height: 10px
        }

        .typo-small,
        figcaption,
        small {
            font-size: .9em;
            color: #888
        }

        b,
        strong {
            font-weight: 700;
            color: #000
        }

        [draggable] {
            cursor: move
        }

        .clearfix:after,
        .clearfix:before {
            content: "";
            display: table
        }

        .clearfix:after {
            clear: both
        }

        .clearfix {
            zoom: 1
        }

        .textwrap,
        .textwrap td,
        .textwrap th {
            word-wrap: break-word;
            word-break: break-all
        }

        .textwrap-table {
            table-layout: fixed
        }

        .serif {
            font-family: Palatino, Optima, Georgia, serif
        }

        .typo-dl,
        .typo-form,
        .typo-hr,
        .typo-ol,
        .typo-p,
        .typo-pre,
        .typo-table,
        .typo-ul,
        .typo dl,
        .typo form,
        .typo hr,
        .typo ol,
        .typo p,
        .typo pre,
        .typo table,
        .typo ul,
        blockquote {
            margin-bottom: 1rem
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: PingFang SC, Helvetica Neue, Verdana, Microsoft Yahei, Hiragino Sans GB, Microsoft Sans Serif, WenQuanYi Micro Hei, sans-serif;
            color: #000;
            line-height: 1.35
        }

        .typo-h1,
        .typo-h2,
        .typo-h3,
        .typo-h4,
        .typo-h5,
        .typo-h6,
        .typo h1,
        .typo h2,
        .typo h3,
        .typo h4,
        .typo h5,
        .typo h6 {
            margin-top: 1.2em;
            margin-bottom: .6em;
            line-height: 1.35
        }

        .typo-h1,
        .typo h1 {
            font-size: 2em
        }

        .typo-h2,
        .typo h2 {
            font-size: 1.8em
        }

        .typo-h3,
        .typo h3 {
            font-size: 1.6em
        }

        .typo-h4,
        .typo h4 {
            font-size: 1.4em
        }

        .typo-h5,
        .typo-h6,
        .typo h5,
        .typo h6 {
            font-size: 1.2em
        }

        .typo-ul,
        .typo ul {
            margin-left: 1.3em;
            list-style: disc
        }

        .typo-ol,
        .typo ol {
            list-style: decimal;
            margin-left: 1.9em
        }

        .typo-ol ol,
        .typo-ol ul,
        .typo-ul ol,
        .typo-ul ul,
        .typo li ol,
        .typo li ul {
            margin-bottom: .8em;
            margin-left: 2em
        }

        .typo-ol ul,
        .typo-ul ul,
        .typo li ul {
            list-style: circle
        }

        .typo-table td,
        .typo-table th,
        .typo table caption,
        .typo table td,
        .typo table th {
            border: 1px solid #ddd;
            padding: .5em 1em;
            color: #666
        }

        .typo-table th,
        .typo table th {
            background: #fbfbfb
        }

        .typo-table thead th,
        .typo table thead th {
            background: hsla(0, 0%, 95%, .7)
        }

        .typo table caption {
            border-bottom: none
        }

        .typo-input,
        .typo-textarea {
            -webkit-appearance: none;
            border-radius: 0
        }

        .typo-em,
        .typo em,
        caption,
        legend {
            color: #000;
            font-weight: inherit
        }

        .typo-em {
            position: relative
        }

        .typo-em:after {
            position: absolute;
            top: .65em;
            left: 0;
            width: 100%;
            overflow: hidden;
            white-space: nowrap;
            content: "\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB"
        }

        .typo img {
            max-width: 100%
        }

        .common-content {
            font-weight: 400;
            color: #353535;
            line-height: 1.75rem;
            white-space: normal;
            word-break: normal;
            font-size: 1rem
        }

        .common-content img {
            display: block;
            max-width: 100%;
            background-color: #eee
        }

        .common-content audio,
        .common-content video {
            width: 100%;
            background-color: #eee
        }

        .common-content center,
        .common-content font {
            margin-top: 1rem;
            display: inline-block
        }

        .common-content center {
            width: 100%
        }

        .common-content pre {
            margin-top: 1rem;
            padding-left: 0;
            padding-right: 0;
            position: relative;
            overflow: hidden
        }

        .common-content pre code {
            font-size: .8rem;
            font-family: Consolas, Liberation Mono, Menlo, monospace, Courier;
            display: block;
            width: 100%;
            box-sizing: border-box;
            padding-left: 1rem;
            padding-right: 1rem;
            overflow-x: auto
        }

        .common-content hr {
            border: none;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            border-top: 1px solid #f5f5f5;
            height: 1px;
            background: none
        }

        .common-content b,
        .common-content h1,
        .common-content h2,
        .common-content h3,
        .common-content h4,
        .common-content h5,
        .common-content strong {
            font-weight: 700
        }

        .common-content h1,
        .common-content h2 {
            font-size: 1.125rem;
            margin-bottom: .45rem
        }

        .common-content h3,
        .common-content h4,
        .common-content h5 {
            font-size: 1rem;
            margin-bottom: .45rem
        }

        .common-content p {
            font-weight: 400;
            color: #353535;
            margin-top: .15rem
        }

        .common-content .orange {
            color: #ff5a05
        }

        .common-content .reference {
            font-size: 1rem;
            color: #888
        }

        .custom-rich-content h1 {
            margin-top: 0;
            font-weight: 400;
            font-size: 15.25px;
            border-bottom: 1px solid #eee;
            line-height: 2.8
        }

        .custom-rich-content li,
        .custom-rich-content p {
            font-size: 14px;
            color: #888;
            line-height: 1.6
        }

        table.hljs-ln {
            margin-bottom: 0;
            border-spacing: 0;
            border-collapse: collapse
        }

        table.hljs-ln,
        table.hljs-ln tbody,
        table.hljs-ln td,
        table.hljs-ln tr {
            box-sizing: border-box
        }

        table.hljs-ln td {
            padding: 0;
            border: 0
        }

        table.hljs-ln td.hljs-ln-numbers {
            min-width: 15px;
            color: rgba(27, 31, 35, .3);
            text-align: right;
            white-space: nowrap;
            cursor: pointer;
            user-select: none
        }

        table.hljs-ln td.hljs-ln-code,
        table.hljs-ln td.hljs-ln-numbers {
            font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier, monospace;
            font-size: 12px;
            line-height: 20px;
            vertical-align: top
        }

        table.hljs-ln td.hljs-ln-code {
            position: relative;
            padding-right: 10px;
            padding-left: 10px;
            overflow: visible;
            color: #24292e;
            word-wrap: normal;
            white-space: pre
        }

        video::-webkit-media-controls {
            overflow: hidden !important
        }

        video::-webkit-media-controls-enclosure {
            width: calc(100% + 32px);
            margin-left: auto
        }

        ._29HP61GA_0 {
            max-width:800px;
            margin:0 auto;
            margin-bottom: 20px;
            font-weight: 400;
            color: #353535;
            line-height: 1.76;
            white-space: normal;
            word-break: normal;
            font-size: 17px;
            -webkit-transition: background-color .3s ease;
            transition: background-color .3s ease
        }

        ._29HP61GA_0 .MathJax_Display {
            overflow: auto
        }

        ._29HP61GA_0 .poster {
            position: fixed;
            left: -10000px;
            top: -10000px;
            overflow: hidden;
            padding: 1rem;
            background: #ececec
        }

        ._29HP61GA_0 .richcontent-pre-copy {
            font-size: 13px;
            color: #888;
            position: absolute;
            right: 1em;
            top: .5em;
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none
        }

        ._29HP61GA_0 .richcontent-pre-copy .iconfont {
            font-size: 12px;
            margin-right: .2em
        }

        ._29HP61GA_0 a {
            color: #fa8919;
            border-bottom: 1px solid #fa8919
        }

        ._29HP61GA_0 img {
            display: block;
            max-width: 100%;
            position: relative;
            left: 50%;
            -webkit-transform: translateX(-50%);
            transform: translateX(-50%);
            background-color: #eee;
            vertical-align: top;
            border-radius: 0
        }

        ._29HP61GA_0 audio,
        ._29HP61GA_0 video {
            width: 100%;
            background-color: #eee
        }

        ._29HP61GA_0 pre {
            margin-top: 16px;
            padding: 34px 0 0;
            margin-bottom: 30px;
            position: relative;
            border-radius: 6px;
            background: rgba(246, 247, 251, .749);
            border: 0
        }

        ._29HP61GA_0 pre code {
            font-size: 12px;
            font-family: Consolas, Liberation Mono, Menlo, monospace, Courier;
            display: block;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
            margin-left: 16px;
            margin-right: 16px;
            overflow-x: scroll
        }

        ._29HP61GA_0 pre code:after {
            content: "";
            height: 30px;
            width: 100%;
            display: block
        }

        ._29HP61GA_0 hr {
            border: none;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            border-top: 1px solid #f5f5f5;
            height: 1px;
            background: none
        }

        ._29HP61GA_0 h1,
        ._29HP61GA_0 h2,
        ._29HP61GA_0 h3,
        ._29HP61GA_0 h4,
        ._29HP61GA_0 h5 {
            margin-bottom: 20px;
            margin-top: 0;
            font-weight: 700
        }

        ._29HP61GA_0 b,
        ._29HP61GA_0 strong {
            font-weight: 700
        }

        ._29HP61GA_0 h1 {
            font-size: 21px
        }

        ._29HP61GA_0 h2 {
            font-size: 20px
        }

        ._29HP61GA_0 h3 {
            font-size: 19px
        }

        ._29HP61GA_0 h4 {
            font-size: 18px
        }

        ._29HP61GA_0 h5 {
            font-size: 17px
        }

        ._29HP61GA_0 center,
        ._29HP61GA_0 p {
            font-weight: 400;
            color: #353535;
            margin-top: 0;
            margin-bottom: 30px;
            word-break: break-word
        }

        ._29HP61GA_0 center {
            text-align: center
        }

        ._29HP61GA_0 blockquote {
            margin-top: 0;
            margin-bottom: 34px;
            border-left: 3px solid #e8e8e8;
            padding-left: 17px;
            color: #353535
        }

        ._29HP61GA_0 blockquote p {
            margin-top: 0;
            margin-bottom: 0
        }

        ._29HP61GA_0 ol,
        ._29HP61GA_0 ul {
            margin-bottom: 30px
        }

        ._29HP61GA_0 ol p,
        ._29HP61GA_0 ul p {
            margin-top: 0;
            margin-bottom: 0
        }

        ._29HP61GA_0 ol {
            list-style: decimal;
            margin-left: 20px
        }

        ._29HP61GA_0 ul li {
            padding-left: 17px;
            position: relative;
            margin-bottom: 10px
        }

        ._29HP61GA_0 ul li:after {
            content: "";
            height: 6px;
            width: 6px;
            border-radius: 50%;
            background: #353535;
            position: absolute;
            top: 10px;
            left: 0
        }

        ._29HP61GA_0 .orange {
            color: #fa8919
        }

        ._29HP61GA_0 .reference {
            color: #888
        }

        ._29HP61GA_0 .m-right {
            text-align: right
        }

        ._29HP61GA_0 .m-center {
            text-align: center;
            display: block
        }

        ._29HP61GA_0 .m-gray {
            color: #888
        }

        ._29HP61GA_0 .m-small {
            font-size: 15px
        }

        ._29HP61GA_0 table.hljs-ln {
            margin-bottom: 0;
            border-spacing: 0;
            border-collapse: collapse
        }

        ._29HP61GA_0 table.hljs-ln,
        ._29HP61GA_0 table.hljs-ln tbody,
        ._29HP61GA_0 table.hljs-ln td,
        ._29HP61GA_0 table.hljs-ln tr {
            -webkit-box-sizing: border-box;
            box-sizing: border-box
        }

        ._29HP61GA_0 table.hljs-ln td {
            padding: 0;
            border: 0
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-numbers {
            min-width: 15px;
            font-size: 12px;
            color: rgba(27, 31, 35, .3);
            text-align: right;
            white-space: nowrap;
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-code,
        ._29HP61GA_0 table.hljs-ln td.hljs-ln-numbers {
            font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier, monospace;
            line-height: 20px;
            vertical-align: top
        }

        ._29HP61GA_0 table.hljs-ln td.hljs-ln-code {
            position: relative;
            padding-right: 10px;
            padding-left: 10px;
            overflow: visible;
            font-size: 13px;
            color: #666;
            word-wrap: normal;
            white-space: pre
        }

    </style>
</head>
<body>
<div class="_29HP61GA_0">
<h1>03-è¯­æ³•åˆ†æï¼ˆä¸€ï¼‰ï¼šçº¯æ‰‹å·¥æ‰“é€ å…¬å¼è®¡ç®—å™¨</h1>
<p>æˆ‘æƒ³ä½ åº”è¯¥çŸ¥é“ï¼Œå…¬å¼æ˜¯Excelç”µå­è¡¨æ ¼è½¯ä»¶çš„çµé­‚å’Œæ ¸å¿ƒã€‚é™¤æ­¤ä¹‹å¤–ï¼Œåœ¨HRè½¯ä»¶ä¸­ï¼Œå¯ä»¥ç”¨å…¬å¼è‡ªå®šä¹‰å·¥èµ„ã€‚è€Œä¸”ï¼Œå¦‚æœä½ è¦å¼€å‘ä¸€æ¬¾é€šç”¨æŠ¥è¡¨è½¯ä»¶ï¼Œä¹Ÿä¼šå¤§é‡ç”¨åˆ°è‡ªå®šä¹‰å…¬å¼æ¥è®¡ç®—æŠ¥è¡¨ä¸Šæ˜¾ç¤ºçš„æ•°æ®ã€‚æ€»è€Œè¨€ä¹‹ï¼Œå¾ˆå¤šé«˜çº§ä¸€ç‚¹å„¿çš„è½¯ä»¶ï¼Œéƒ½ä¼šç”¨åˆ°è‡ªå®šä¹‰å…¬å¼åŠŸèƒ½ã€‚</p><p>æ—¢ç„¶å…¬å¼åŠŸèƒ½å¦‚æ­¤å¸¸è§å’Œé‡è¦ï¼Œæˆ‘ä»¬ä¸å¦¨å®ç°ä¸€ä¸ªå…¬å¼è®¡ç®—å™¨ï¼Œç»™è‡ªå·±çš„è½¯ä»¶æ·»åŠ è‡ªå®šä¹‰å…¬å¼åŠŸèƒ½å§ï¼</p><p>æœ¬èŠ‚è¯¾å°†ç»§ç»­â€œæ‰‹å·¥æ‰“é€ â€ä¹‹æ—…ï¼Œè®©ä½ çº¯æ‰‹å·¥å®ç°ä¸€ä¸ªå…¬å¼è®¡ç®—å™¨ï¼Œå€Ÿæ­¤æŒæ¡<strong>è¯­æ³•åˆ†æçš„åŸç†</strong>å’Œ<strong>é€’å½’ä¸‹é™ç®—æ³•ï¼ˆRecursive Descent Parsingï¼‰ï¼Œ<strong>å¹¶åˆæ­¥äº†è§£</strong>ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•ï¼ˆContext-free Grammarï¼ŒCFGï¼‰ã€‚</strong></p><p>æˆ‘æ‰€ä¸¾ä¾‹çš„å…¬å¼è®¡ç®—å™¨æ”¯æŒåŠ å‡ä¹˜é™¤ç®—æœ¯è¿ç®—ï¼Œæ¯”å¦‚æ”¯æŒâ€œ2 + 3 * 5â€çš„è¿ç®—ã€‚</p><p>åœ¨å­¦ä¹ è¯­æ³•åˆ†ææ—¶ï¼Œæˆ‘ä»¬ä¹ æƒ¯æŠŠä¸Šé¢çš„å…¬å¼ç§°ä¸ºè¡¨è¾¾å¼ã€‚è¿™ä¸ªè¡¨è¾¾å¼çœ‹ä¸Šå»å¾ˆç®€å•ï¼Œä½†ä½ èƒ½å€Ÿæ­¤å­¦åˆ°å¾ˆå¤šè¯­æ³•åˆ†æçš„åŸç†ï¼Œä¾‹å¦‚å·¦é€’å½’ã€ä¼˜å…ˆçº§å’Œç»“åˆæ€§ç­‰é—®é¢˜ã€‚</p><p>å½“ç„¶äº†ï¼Œè¦å®ç°ä¸Šé¢çš„è¡¨è¾¾å¼ï¼Œä½ å¿…é¡»èƒ½åˆ†æå®ƒçš„è¯­æ³•ã€‚ä¸è¿‡åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘æƒ³å…ˆå¸¦ä½ è§£æä¸€ä¸‹å˜é‡å£°æ˜è¯­å¥çš„è¯­æ³•ï¼Œä»¥ä¾¿è®©ä½ å¾ªåºæ¸è¿›åœ°æŒæ¡è¯­æ³•åˆ†æã€‚</p><h2>è§£æå˜é‡å£°æ˜è¯­å¥ï¼šç†è§£â€œä¸‹é™â€çš„å«ä¹‰</h2><p>åœ¨â€œ<a href="https://time.geekbang.org/column/article/118132">01 | ç†è§£ä»£ç ï¼šç¼–è¯‘å™¨çš„å‰ç«¯æŠ€æœ¯</a>â€é‡Œï¼Œæˆ‘æåˆ°è¯­æ³•åˆ†æçš„ç»“æœæ˜¯ç”ŸæˆASTã€‚ç®—æ³•åˆ†ä¸ºè‡ªé¡¶å‘ä¸‹å’Œè‡ªåº•å‘ä¸Šç®—æ³•ï¼Œå…¶ä¸­ï¼Œé€’å½’ä¸‹é™ç®—æ³•æ˜¯ä¸€ç§å¸¸è§çš„è‡ªé¡¶å‘ä¸‹ç®—æ³•ã€‚</p><!-- [[[read_end]]] --><p>ä¸æ­¤åŒæ—¶ï¼Œæˆ‘ç»™å‡ºäº†ä¸€ä¸ªç®€å•çš„ä»£ç ç¤ºä¾‹ï¼Œä¹Ÿé’ˆå¯¹â€œint age = 45â€è¿™ä¸ªè¯­å¥ï¼Œç”»äº†ä¸€ä¸ªè¯­æ³•åˆ†æç®—æ³•çš„ç¤ºæ„å›¾ï¼š</p><p><img src="https://static001.geekbang.org/resource/image/cb/16/cbf2b953cb84ef30b154470804262c16.jpg" alt=""></p><p>æˆ‘ä»¬é¦–å…ˆæŠŠå˜é‡å£°æ˜è¯­å¥çš„è§„åˆ™ï¼Œç”¨å½¢å¼åŒ–çš„æ–¹æ³•è¡¨è¾¾ä¸€ä¸‹ã€‚å®ƒçš„å·¦è¾¹æ˜¯ä¸€ä¸ªéç»ˆç»“ç¬¦ï¼ˆNon-terminalï¼‰ã€‚å³è¾¹æ˜¯å®ƒçš„äº§ç”Ÿå¼ï¼ˆProduction Ruleï¼‰ã€‚åœ¨è¯­æ³•è§£æçš„è¿‡ç¨‹ä¸­ï¼Œå·¦è¾¹ä¼šè¢«å³è¾¹æ›¿ä»£ã€‚å¦‚æœæ›¿ä»£ä¹‹åè¿˜æœ‰éç»ˆç»“ç¬¦ï¼Œé‚£ä¹ˆç»§ç»­è¿™ä¸ªæ›¿ä»£è¿‡ç¨‹ï¼Œç›´åˆ°æœ€åå…¨éƒ¨éƒ½æ˜¯ç»ˆç»“ç¬¦ï¼ˆTerminalï¼‰ï¼Œä¹Ÿå°±æ˜¯Tokenã€‚åªæœ‰ç»ˆç»“ç¬¦æ‰å¯ä»¥æˆä¸ºASTçš„å¶å­èŠ‚ç‚¹ã€‚è¿™ä¸ªè¿‡ç¨‹ï¼Œä¹Ÿå«åšæ¨å¯¼ï¼ˆDerivationï¼‰è¿‡ç¨‹ï¼š</p><pre><code>intDeclaration : Int Identifier ('=' additiveExpression)?;
</code></pre><p>ä½ å¯ä»¥çœ‹åˆ°ï¼Œintç±»å‹å˜é‡çš„å£°æ˜ï¼Œéœ€è¦æœ‰ä¸€ä¸ªIntå‹çš„Tokenï¼ŒåŠ ä¸€ä¸ªå˜é‡æ ‡è¯†ç¬¦ï¼Œåé¢è·Ÿä¸€ä¸ªå¯é€‰çš„èµ‹å€¼è¡¨è¾¾å¼ã€‚æˆ‘ä»¬æŠŠä¸Šé¢çš„æ–‡æ³•ç¿»è¯‘æˆç¨‹åºè¯­å¥ï¼Œä¼ªä»£ç å¦‚ä¸‹ï¼š</p><pre><code>//ä¼ªä»£ç 
MatchIntDeclare(){
  MatchToken(Int)ï¼›        //åŒ¹é…Intå…³é”®å­—
  MatchIdentifier();       //åŒ¹é…æ ‡è¯†ç¬¦
  MatchToken(equal);       //åŒ¹é…ç­‰å·
  MatchExpression();       //åŒ¹é…è¡¨è¾¾å¼
}
</code></pre><p>å®é™…ä»£ç åœ¨SimpleCalculator.javaç±»çš„IntDeclare()æ–¹æ³•ä¸­ï¼š</p><pre><code>SimpleASTNode node = null;
Token token = tokens.peek();    //é¢„è¯»
if (token != null &amp;&amp; token.getType() == TokenType.Int) {   //åŒ¹é…Int
    token = tokens.read();      //æ¶ˆè€—æ‰int
    if (tokens.peek().getType() == TokenType.Identifier) { //åŒ¹é…æ ‡è¯†ç¬¦
        token = tokens.read();  //æ¶ˆè€—æ‰æ ‡è¯†ç¬¦
        //åˆ›å»ºå½“å‰èŠ‚ç‚¹ï¼Œå¹¶æŠŠå˜é‡åè®°åˆ°ASTèŠ‚ç‚¹çš„æ–‡æœ¬å€¼ä¸­ï¼Œ
        //è¿™é‡Œæ–°å»ºä¸€ä¸ªå˜é‡å­èŠ‚ç‚¹ä¹Ÿæ˜¯å¯ä»¥çš„
        node = new SimpleASTNode(ASTNodeType.IntDeclaration, token.getText());
        token = tokens.peek();  //é¢„è¯»
        if (token != null &amp;&amp; token.getType() == TokenType.Assignment) {
            tokens.read();      //æ¶ˆè€—æ‰ç­‰å·
            SimpleASTNode child = additive(tokens);  //åŒ¹é…ä¸€ä¸ªè¡¨è¾¾å¼
            if (child == null) {
                throw new Exception(&quot;invalide variable initialization, expecting an expression&quot;);
            }
            else{
                node.addChild(child);
            }
        }
    } else {
        throw new Exception(&quot;variable name expected&quot;);
    }
}
</code></pre><p>ç›´ç™½åœ°æè¿°ä¸€ä¸‹ä¸Šé¢çš„ç®—æ³•ï¼š</p><blockquote>
<p>è§£æå˜é‡å£°æ˜è¯­å¥æ—¶ï¼Œæˆ‘å…ˆçœ‹ç¬¬ä¸€ä¸ªTokenæ˜¯ä¸æ˜¯intã€‚å¦‚æœæ˜¯ï¼Œé‚£æˆ‘åˆ›å»ºä¸€ä¸ªASTèŠ‚ç‚¹ï¼Œè®°ä¸‹intåé¢çš„å˜é‡åç§°ï¼Œç„¶åå†çœ‹åé¢æ˜¯ä¸æ˜¯è·Ÿäº†åˆå§‹åŒ–éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯ç­‰å·åŠ ä¸€ä¸ªè¡¨è¾¾å¼ã€‚æˆ‘ä»¬æ£€æŸ¥ä¸€ä¸‹æœ‰æ²¡æœ‰ç­‰å·ï¼Œæœ‰çš„è¯ï¼Œæ¥ç€å†åŒ¹é…ä¸€ä¸ªè¡¨è¾¾å¼ã€‚</p>
</blockquote><p>æˆ‘ä»¬é€šå¸¸ä¼šå¯¹äº§ç”Ÿå¼çš„æ¯ä¸ªéƒ¨åˆ†å»ºç«‹ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œæ¯”å¦‚å˜é‡å£°æ˜è¯­å¥ä¼šå»ºç«‹å››ä¸ªå­èŠ‚ç‚¹ï¼Œåˆ†åˆ«æ˜¯intå…³é”®å­—ã€æ ‡è¯†ç¬¦ã€ç­‰å·å’Œè¡¨è¾¾å¼ã€‚åé¢çš„å·¥å…·å°±æ˜¯è¿™æ ·ä¸¥æ ¼ç”ŸæˆASTçš„ã€‚ä½†æ˜¯æˆ‘è¿™é‡Œåšäº†ç®€åŒ–ï¼Œåªç”Ÿæˆäº†ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œå°±æ˜¯è¡¨è¾¾å¼å­èŠ‚ç‚¹ã€‚å˜é‡åç§°è®°åˆ°ASTNodeçš„æ–‡æœ¬å€¼é‡Œå»äº†ï¼Œå…¶ä»–ä¸¤ä¸ªå­èŠ‚ç‚¹æ²¡æœ‰æä¾›é¢å¤–çš„ä¿¡æ¯ï¼Œå°±ç›´æ¥ä¸¢å¼ƒäº†ã€‚</p><p>å¦å¤–ï¼Œä»ä¸Šé¢çš„ä»£ç ä¸­æˆ‘ä»¬çœ‹åˆ°ï¼Œç¨‹åºæ˜¯ä»ä¸€ä¸ªTokençš„æµä¸­é¡ºåºè¯»å–ã€‚ä»£ç ä¸­çš„peek()æ–¹æ³•æ˜¯é¢„è¯»ï¼Œåªæ˜¯è¯»å–ä¸‹ä¸€ä¸ªTokenï¼Œä½†å¹¶ä¸æŠŠå®ƒä»Tokenæµä¸­ç§»é™¤ã€‚åœ¨ä»£ç ä¸­ï¼Œæˆ‘ä»¬ç”¨peek()æ–¹æ³•å¯ä»¥é¢„å…ˆçœ‹ä¸€ä¸‹ä¸‹ä¸€ä¸ªTokenæ˜¯å¦æ˜¯ç­‰å·ï¼Œä»è€ŒçŸ¥é“åé¢è·Ÿç€çš„æ˜¯ä¸æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ã€‚è€Œread()æ–¹æ³•ä¼šä»Tokenæµä¸­ç§»é™¤ï¼Œä¸‹ä¸€ä¸ªTokenå˜æˆäº†å½“å‰çš„Tokenã€‚</p><p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé€šè¿‡peek()æ–¹æ³•æ¥é¢„è¯»ï¼Œå®é™…ä¸Šæ˜¯å¯¹ä»£ç çš„ä¼˜åŒ–ï¼Œè¿™æœ‰ç‚¹å„¿é¢„æµ‹çš„æ„å‘³ã€‚æˆ‘ä»¬åé¢ä¼šè®²å¸¦æœ‰é¢„æµ‹çš„è‡ªé¡¶å‘ä¸‹ç®—æ³•ï¼Œå®ƒèƒ½å‡å°‘å›æº¯çš„æ¬¡æ•°ã€‚</p><p>æˆ‘ä»¬æŠŠè§£æå˜é‡å£°æ˜è¯­å¥å’Œè¡¨è¾¾å¼çš„ç®—æ³•åˆ†åˆ«å†™æˆå‡½æ•°ã€‚åœ¨è¯­æ³•åˆ†æçš„æ—¶å€™ï¼Œè°ƒç”¨è¿™äº›å‡½æ•°è·Ÿåé¢çš„Tokenä¸²åšæ¨¡å¼åŒ¹é…ã€‚åŒ¹é…ä¸Šäº†ï¼Œå°±è¿”å›ä¸€ä¸ªASTèŠ‚ç‚¹ï¼Œå¦åˆ™å°±è¿”å›nullã€‚å¦‚æœä¸­é—´å‘ç°è·Ÿè¯­æ³•è§„åˆ™ä¸ç¬¦ï¼Œå°±æŠ¥ç¼–è¯‘é”™è¯¯ã€‚</p><p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä¸Šçº§æ–‡æ³•åµŒå¥—ä¸‹çº§æ–‡æ³•ï¼Œä¸Šçº§çš„ç®—æ³•è°ƒç”¨ä¸‹çº§çš„ç®—æ³•ã€‚è¡¨ç°åœ¨ç”ŸæˆASTä¸­ï¼Œä¸Šçº§ç®—æ³•ç”Ÿæˆä¸Šçº§èŠ‚ç‚¹ï¼Œä¸‹çº§ç®—æ³•ç”Ÿæˆä¸‹çº§èŠ‚ç‚¹ã€‚<strong>è¿™å°±æ˜¯â€œä¸‹é™â€çš„å«ä¹‰ã€‚</strong></p><p>åˆ†æä¸Šé¢çš„ä¼ªä»£ç å’Œç¨‹åºè¯­å¥ï¼Œä½ å¯ä»¥çœ‹åˆ°è¿™æ ·çš„ç‰¹ç‚¹ï¼š<strong>ç¨‹åºç»“æ„åŸºæœ¬ä¸Šæ˜¯è·Ÿæ–‡æ³•è§„åˆ™åŒæ„çš„ã€‚è¿™å°±æ˜¯é€’å½’ä¸‹é™ç®—æ³•çš„ä¼˜ç‚¹ï¼Œéå¸¸ç›´è§‚ã€‚</strong></p><p>æ¥ç€è¯´å›æ¥ï¼Œæˆ‘ä»¬ç»§ç»­è¿è¡Œè¿™ä¸ªç¤ºä¾‹ç¨‹åºï¼Œè¾“å‡ºASTï¼š</p><pre><code>Programm Calculator
    IntDeclaration age
        AssignmentExp =
            IntLiteral 45
</code></pre><p>å‰é¢çš„æ–‡æ³•å’Œç®—æ³•éƒ½å¾ˆç®€å•ï¼Œè¿™æ ·çº§åˆ«çš„æ–‡æ³•æ²¡æœ‰è¶…å‡ºæ­£åˆ™æ–‡æ³•ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¹¶æ²¡æœ‰è¶…å‡ºæˆ‘ä»¬åšè¯æ³•åˆ†ææ—¶ç”¨åˆ°çš„æ–‡æ³•ã€‚</p><p>å¥½äº†ï¼Œè§£æå®Œå˜é‡å£°æ˜è¯­å¥ï¼Œå¸¦ä½ ç†è§£äº†â€œä¸‹é™â€çš„å«ä¹‰ä¹‹åï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•ç”¨ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•æè¿°ç®—æœ¯è¡¨è¾¾å¼ã€‚</p><h2>ç”¨ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•æè¿°ç®—æœ¯è¡¨è¾¾å¼</h2><p>æˆ‘ä»¬è§£æç®—æœ¯è¡¨è¾¾å¼çš„æ—¶å€™ï¼Œä¼šé‡åˆ°æ›´å¤æ‚çš„æƒ…å†µï¼Œè¿™æ—¶ï¼Œæ­£åˆ™æ–‡æ³•ä¸å¤Ÿç”¨ï¼Œæˆ‘ä»¬å¿…é¡»ç”¨ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•æ¥è¡¨è¾¾ã€‚ä½ å¯èƒ½ä¼šé—®ï¼šâ€œæ­£åˆ™æ–‡æ³•ä¸ºä»€ä¹ˆä¸èƒ½è¡¨ç¤ºç®—æœ¯è¡¨è¾¾å¼ï¼Ÿâ€åˆ«ç€æ€¥ï¼Œæˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹ç®—æœ¯è¡¨è¾¾å¼çš„è¯­æ³•è§„åˆ™ã€‚</p><p>ç®—æœ¯è¡¨è¾¾å¼è¦åŒ…å«åŠ æ³•å’Œä¹˜æ³•ä¸¤ç§è¿ç®—ï¼ˆç®€å•èµ·è§ï¼Œæˆ‘ä»¬æŠŠå‡æ³•ä¸åŠ æ³•ç­‰åŒçœ‹å¾…ï¼ŒæŠŠé™¤æ³•ä¹Ÿè·Ÿä¹˜æ³•ç­‰åŒçœ‹å¾…ï¼‰ï¼ŒåŠ æ³•å’Œä¹˜æ³•è¿ç®—æœ‰ä¸åŒçš„ä¼˜å…ˆçº§ã€‚æˆ‘ä»¬çš„è§„åˆ™è¦èƒ½åŒ¹é…å„ç§å¯èƒ½çš„ç®—æœ¯è¡¨è¾¾å¼ï¼š</p><ul>
<li>2+3*5</li>
<li>2*3+5</li>
<li>2*3</li>
<li>â€¦â€¦</li>
</ul><p>æ€è€ƒä¸€ç•ªä¹‹åï¼Œæˆ‘ä»¬æŠŠè§„åˆ™åˆ†æˆä¸¤çº§ï¼šç¬¬ä¸€çº§æ˜¯åŠ æ³•è§„åˆ™ï¼Œç¬¬äºŒçº§æ˜¯ä¹˜æ³•è§„åˆ™ã€‚æŠŠä¹˜æ³•è§„åˆ™ä½œä¸ºåŠ æ³•è§„åˆ™çš„å­è§„åˆ™ï¼Œè¿™æ ·åœ¨è§£æå½¢æˆASTæ—¶ï¼Œä¹˜æ³•èŠ‚ç‚¹å°±ä¸€å®šæ˜¯åŠ æ³•èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ï¼Œä»è€Œè¢«ä¼˜å…ˆè®¡ç®—ã€‚</p><pre><code>additiveExpression
    :   multiplicativeExpression
    |   additiveExpression Plus multiplicativeExpression
    ;

multiplicativeExpression
    :   IntLiteral
    |   multiplicativeExpression Star IntLiteral
    ;
</code></pre><p>ä½ çœ‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ–‡æ³•çš„åµŒå¥—ï¼Œå®ç°å¯¹è¿ç®—ä¼˜å…ˆçº§çš„æ”¯æŒã€‚è¿™æ ·æˆ‘ä»¬åœ¨è§£æâ€œ2 + 3 * 5â€è¿™ä¸ªç®—æœ¯è¡¨è¾¾å¼æ—¶ä¼šå½¢æˆç±»ä¼¼ä¸‹é¢çš„ASTï¼š</p><p><img src="https://static001.geekbang.org/resource/image/5e/1c/5ed231aced0b65b8c0d343b86634401c.jpg" alt=""></p><p>å¦‚æœè¦è®¡ç®—è¡¨è¾¾å¼çš„å€¼ï¼Œåªéœ€è¦å¯¹æ ¹èŠ‚ç‚¹æ±‚å€¼å°±å¯ä»¥äº†ã€‚ä¸ºäº†å®Œæˆå¯¹æ ¹èŠ‚ç‚¹çš„æ±‚å€¼ï¼Œéœ€è¦å¯¹ä¸‹çº§èŠ‚ç‚¹é€’å½’æ±‚å€¼ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆå®Œæˆâ€œ3 * 5 = 15â€ï¼Œç„¶åå†è®¡ç®—â€œ2 + 15 = 17â€ã€‚</p><p>æœ‰äº†è¿™ä¸ªè®¤çŸ¥ï¼Œæˆ‘ä»¬åœ¨è§£æç®—æœ¯è¡¨è¾¾å¼çš„æ—¶å€™ï¼Œä¾¿èƒ½æ‹¿åŠ æ³•è§„åˆ™å»åŒ¹é…ã€‚åœ¨åŠ æ³•è§„åˆ™ä¸­ï¼Œä¼šåµŒå¥—åœ°åŒ¹é…ä¹˜æ³•è§„åˆ™ã€‚æˆ‘ä»¬é€šè¿‡æ–‡æ³•çš„åµŒå¥—ï¼Œå®ç°äº†è®¡ç®—çš„ä¼˜å…ˆçº§ã€‚</p><p>åº”è¯¥æ³¨æ„çš„æ˜¯ï¼ŒåŠ æ³•è§„åˆ™ä¸­è¿˜é€’å½’åœ°åˆå¼•ç”¨äº†åŠ æ³•è§„åˆ™ã€‚é€šè¿‡è¿™ç§é€’å½’çš„å®šä¹‰ï¼Œæˆ‘ä»¬èƒ½å±•å¼€ã€å½¢æˆæ‰€æœ‰å„ç§å¯èƒ½çš„ç®—æœ¯è¡¨è¾¾å¼ã€‚æ¯”å¦‚â€œ2+3*5â€ çš„æ¨å¯¼è¿‡ç¨‹ï¼š</p><pre><code>--&gt;additiveExpression + multiplicativeExpression
--&gt;multiplicativeExpression + multiplicativeExpression
--&gt;IntLiteral + multiplicativeExpression
--&gt;IntLiteral + multiplicativeExpression * IntLiteral 
--&gt;IntLiteral + IntLiteral * IntLiteral
</code></pre><p>è¿™ç§æ–‡æ³•å·²ç»æ²¡æœ‰åŠæ³•æ”¹å†™æˆæ­£åˆ™æ–‡æ³•äº†ï¼Œå®ƒæ¯”æ­£åˆ™æ–‡æ³•çš„è¡¨è¾¾èƒ½åŠ›æ›´å¼ºï¼Œå«åš<strong>â€œä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•â€ã€‚</strong>æ­£åˆ™æ–‡æ³•æ˜¯ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•çš„ä¸€ä¸ªå­é›†ã€‚å®ƒä»¬çš„åŒºåˆ«å‘¢ï¼Œå°±æ˜¯ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•å…è®¸é€’å½’è°ƒç”¨ï¼Œè€Œæ­£åˆ™æ–‡æ³•ä¸å…è®¸ã€‚</p><p>ä¸Šä¸‹æ–‡æ— å…³çš„æ„æ€æ˜¯ï¼Œæ— è®ºåœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œæ–‡æ³•çš„æ¨å¯¼è§„åˆ™éƒ½æ˜¯ä¸€æ ·çš„ã€‚æ¯”å¦‚ï¼Œåœ¨å˜é‡å£°æ˜è¯­å¥ä¸­å¯èƒ½è¦ç”¨åˆ°ä¸€ä¸ªç®—æœ¯è¡¨è¾¾å¼æ¥åšå˜é‡åˆå§‹åŒ–ï¼Œè€Œåœ¨å…¶ä»–åœ°æ–¹å¯èƒ½ä¹Ÿä¼šç”¨åˆ°ç®—æœ¯è¡¨è¾¾å¼ã€‚ä¸ç®¡åœ¨ä»€ä¹ˆåœ°æ–¹ï¼Œç®—æœ¯è¡¨è¾¾å¼çš„è¯­æ³•éƒ½ä¸€æ ·ï¼Œéƒ½å…è®¸ç”¨åŠ æ³•å’Œä¹˜æ³•ï¼Œè®¡ç®—ä¼˜å…ˆçº§ä¹Ÿä¸å˜ã€‚å¥½åœ¨ä½ è§åˆ°çš„å¤§å¤šæ•°è®¡ç®—æœºè¯­è¨€ï¼Œéƒ½èƒ½ç”¨ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•æ¥è¡¨è¾¾å®ƒçš„è¯­æ³•ã€‚</p><p>é‚£æœ‰æ²¡æœ‰ä¸Šä¸‹æ–‡ç›¸å…³çš„æƒ…å†µéœ€è¦å¤„ç†å‘¢ï¼Ÿä¹Ÿæ˜¯æœ‰çš„ï¼Œä½†é‚£ä¸æ˜¯è¯­æ³•åˆ†æé˜¶æ®µè´Ÿè´£çš„ï¼Œè€Œæ˜¯æ”¾åœ¨è¯­ä¹‰åˆ†æé˜¶æ®µæ¥å¤„ç†çš„ã€‚</p><h2>è§£æç®—æœ¯è¡¨è¾¾å¼ï¼šç†è§£â€œé€’å½’â€çš„å«ä¹‰</h2><p>åœ¨è®²è§£ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•æ—¶ï¼Œæˆ‘æåˆ°äº†æ–‡æ³•çš„é€’å½’è°ƒç”¨ï¼Œä½ ä¹Ÿè®¸ä¼šé—®ï¼Œæ˜¯å¦åœ¨ç®—æ³•ä¸Šä¹Ÿéœ€è¦é€’å½’çš„è°ƒç”¨å‘¢ï¼Ÿè¦ä¸æ€ä¹ˆå«åšâ€œé€’å½’ä¸‹é™ç®—æ³•â€å‘¢ï¼Ÿ</p><p>çš„ç¡®ï¼Œæˆ‘ä»¬ä¹‹å‰çš„ç®—æ³•åªç®—æ˜¯ç”¨åˆ°äº†â€œä¸‹é™â€ï¼Œæ²¡æœ‰æ¶‰åŠâ€œé€’å½’â€ï¼Œç°åœ¨ï¼Œæˆ‘ä»¬å°±æ¥çœ‹çœ‹å¦‚ä½•ç”¨é€’å½’çš„ç®—æ³•ç¿»è¯‘é€’å½’çš„æ–‡æ³•ã€‚</p><p>æˆ‘ä»¬å…ˆæŒ‰ç…§å‰é¢è¯´çš„ï¼ŒæŠŠæ–‡æ³•ç›´è§‚åœ°ç¿»è¯‘æˆç®—æ³•ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬é‡åˆ°éº»çƒ¦äº†ã€‚è¿™ä¸ªéº»çƒ¦å°±æ˜¯å‡ºç°äº†æ— ç©·å¤šæ¬¡è°ƒç”¨çš„æƒ…å†µã€‚æˆ‘ä»¬æ¥çœ‹ä¸ªä¾‹å­ã€‚</p><p>åœ¨è§£æ â€œ2 + 3â€è¿™æ ·ä¸€ä¸ªæœ€ç®€å•çš„åŠ æ³•è¡¨è¾¾å¼çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç›´è§‚åœ°å°†å…¶ç¿»è¯‘æˆç®—æ³•ï¼Œç»“æœå‡ºç°äº†å¦‚ä¸‹çš„æƒ…å†µï¼š</p><ul>
<li>é¦–å…ˆåŒ¹é…æ˜¯ä¸æ˜¯ä¹˜æ³•è¡¨è¾¾å¼ï¼Œå‘ç°ä¸æ˜¯ï¼›</li>
<li>ç„¶ååŒ¹é…æ˜¯ä¸æ˜¯åŠ æ³•è¡¨è¾¾å¼ï¼Œè¿™é‡Œæ˜¯é€’å½’è°ƒç”¨ï¼›</li>
<li>ä¼šé‡å¤ä¸Šé¢ä¸¤æ­¥ï¼Œæ— ç©·æ— å°½ã€‚</li>
</ul><p>â€œadditiveExpression Plus multiplicativeExpressionâ€è¿™ä¸ªæ–‡æ³•è§„åˆ™çš„ç¬¬ä¸€éƒ¨åˆ†å°±é€’å½’åœ°å¼•ç”¨äº†è‡ªèº«ï¼Œè¿™ç§æƒ…å†µå«åš<strong>å·¦é€’å½’ã€‚</strong>é€šè¿‡ä¸Šé¢çš„åˆ†æï¼Œæˆ‘ä»¬çŸ¥é“å·¦é€’å½’æ˜¯é€’å½’ä¸‹é™ç®—æ³•æ— æ³•å¤„ç†çš„ï¼Œè¿™æ˜¯é€’å½’ä¸‹é™ç®—æ³•æœ€å¤§çš„é—®é¢˜ã€‚</p><p>æ€ä¹ˆè§£å†³å‘¢ï¼ŸæŠŠâ€œadditiveExpressionâ€è°ƒæ¢åˆ°åŠ å·åé¢æ€ä¹ˆæ ·ï¼Ÿæˆ‘ä»¬æ¥è¯•ä¸€è¯•ã€‚</p><pre><code>additiveExpression
    :   multiplicativeExpression
    |   multiplicativeExpression Plus additiveExpression
    ;
</code></pre><p>æˆ‘ä»¬æ¥ç€æ”¹å†™æˆç®—æ³•ï¼Œè¿™ä¸ªç®—æ³•ç¡®å®ä¸ä¼šå‡ºç°æ— é™è°ƒç”¨çš„é—®é¢˜ï¼š</p><pre><code>private SimpleASTNode additive(TokenReader tokens) throws Exception {
    SimpleASTNode child1 = multiplicative();  //è®¡ç®—ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹
    SimpleASTNode node = child1;  //å¦‚æœæ²¡æœ‰ç¬¬äºŒä¸ªå­èŠ‚ç‚¹ï¼Œå°±è¿”å›è¿™ä¸ª
    Token token = tokens.peek();
    if (child1 != null &amp;&amp; token != null) {
        if (token.getType() == TokenType.Plus) {
            token = tokens.read();
            SimpleASTNode child2 = additive(); //é€’å½’åœ°è§£æç¬¬äºŒä¸ªèŠ‚ç‚¹
            if (child2 != null) {
                node = new SimpleASTNode(ASTNodeType.AdditiveExp, token.getText());
                node.addChild(child1);
                node.addChild(child2);
            } else {
                throw new Exception(&quot;invalid additive expression, expecting the right part.&quot;);
            }
        }
    }
    return node;
}
</code></pre><p>ä¸ºäº†ä¾¿äºä½ ç†è§£ï¼Œæˆ‘è§£è¯»ä¸€ä¸‹ä¸Šé¢çš„ç®—æ³•ï¼š</p><blockquote>
<p>æˆ‘ä»¬å…ˆå°è¯•èƒ½å¦åŒ¹é…ä¹˜æ³•è¡¨è¾¾å¼ï¼Œå¦‚æœä¸èƒ½ï¼Œé‚£ä¹ˆè¿™ä¸ªèŠ‚ç‚¹è‚¯å®šä¸æ˜¯åŠ æ³•èŠ‚ç‚¹ï¼Œå› ä¸ºåŠ æ³•è¡¨è¾¾å¼çš„ä¸¤ä¸ªäº§ç”Ÿå¼éƒ½å¿…é¡»é¦–å…ˆåŒ¹é…ä¹˜æ³•è¡¨è¾¾å¼ã€‚é‡åˆ°è¿™ç§æƒ…å†µï¼Œè¿”å›nullå°±å¯ä»¥äº†ï¼Œè°ƒç”¨è€…å°±è¿™æ¬¡åŒ¹é…æ²¡æœ‰æˆåŠŸã€‚å¦‚æœä¹˜æ³•è¡¨è¾¾å¼åŒ¹é…æˆåŠŸï¼Œé‚£å°±å†å°è¯•åŒ¹é…åŠ å·å³è¾¹çš„éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯å»é€’å½’åœ°åŒ¹é…åŠ æ³•è¡¨è¾¾å¼ã€‚å¦‚æœåŒ¹é…æˆåŠŸï¼Œå°±æ„é€ ä¸€ä¸ªåŠ æ³•çš„ASTNodeè¿”å›ã€‚</p>
</blockquote><p>åŒæ ·çš„ï¼Œä¹˜æ³•çš„æ–‡æ³•è§„åˆ™ä¹Ÿå¯ä»¥åšç±»ä¼¼çš„æ”¹å†™ï¼š</p><pre><code>multiplicativeExpression
    :   IntLiteral
    |   IntLiteral Star multiplicativeExpression
    ;
</code></pre><p>ç°åœ¨æˆ‘ä»¬è²Œä¼¼è§£å†³äº†å·¦é€’å½’é—®é¢˜ï¼Œè¿è¡Œè¿™ä¸ªç®—æ³•è§£æ â€œ2+3*5â€ï¼Œå¾—åˆ°ä¸‹é¢çš„ASTï¼š</p><pre><code>Programm Calculator
    AdditiveExp +
        IntLiteral 2
        MulticativeExp *
            IntLiteral 3
            IntLiteral 5
</code></pre><p>æ˜¯ä¸æ˜¯çœ‹ä¸Šå»ä¸€åˆ‡æ­£å¸¸ï¼Ÿå¯å¦‚æœè®©è¿™ä¸ªç¨‹åºè§£æâ€œ2+3+4â€å‘¢ï¼Ÿ</p><pre><code>Programm Calculator
    AdditiveExp +
        IntLiteral 2
        AdditiveExp +
            IntLiteral 3
            IntLiteral 4
</code></pre><p>é—®é¢˜æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿè®¡ç®—é¡ºåºå‘ç”Ÿé”™è¯¯äº†ã€‚è¿ç»­ç›¸åŠ çš„è¡¨è¾¾å¼è¦ä»å·¦å‘å³è®¡ç®—ï¼Œè¿™æ˜¯åŠ æ³•è¿ç®—çš„ç»“åˆæ€§è§„åˆ™ã€‚ä½†æŒ‰ç…§æˆ‘ä»¬ç”Ÿæˆçš„ASTï¼Œå˜æˆä»å³å‘å·¦äº†ï¼Œå…ˆè®¡ç®—äº†â€œ3+4â€ï¼Œç„¶åæ‰è·Ÿâ€œ2â€ç›¸åŠ ã€‚è¿™å¯ä¸è¡Œï¼</p><p>ä¸ºä»€ä¹ˆäº§ç”Ÿä¸Šé¢çš„é—®é¢˜å‘¢ï¼Ÿæ˜¯å› ä¸ºæˆ‘ä»¬ä¿®æ”¹äº†æ–‡æ³•ï¼ŒæŠŠæ–‡æ³•ä¸­åŠ å·å·¦å³ä¸¤è¾¹çš„éƒ¨åˆ†è°ƒæ¢äº†ä¸€ä¸‹ã€‚é€ æˆçš„å½±å“æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿä½ å¯ä»¥æ¨å¯¼ä¸€ä¸‹â€œ2+3+4â€çš„è§£æè¿‡ç¨‹ï¼š</p><ul>
<li>é¦–å…ˆè°ƒç”¨ä¹˜æ³•è¡¨è¾¾å¼åŒ¹é…å‡½æ•°multiplicative()ï¼ŒæˆåŠŸï¼Œè¿”å›äº†ä¸€ä¸ªå­—é¢é‡èŠ‚ç‚¹2ã€‚</li>
<li>æ¥ç€çœ‹çœ‹å³è¾¹æ˜¯å¦èƒ½é€’å½’åœ°åŒ¹é…åŠ æ³•è¡¨è¾¾å¼ã€‚</li>
<li>åŒ¹é…çš„ç»“æœï¼ŒçœŸçš„è¿”å›äº†ä¸€ä¸ªåŠ æ³•è¡¨è¾¾å¼â€œ3+4â€ï¼Œè¿™ä¸ªå˜æˆäº†ç¬¬äºŒä¸ªå­èŠ‚ç‚¹ã€‚é”™è¯¯å°±å‡ºåœ¨è¿™é‡Œäº†ã€‚è¿™æ ·çš„åŒ¹é…é¡ºåºï¼Œâ€œ3+4â€ä¸€å®šä¼šæˆä¸ºå­èŠ‚ç‚¹ï¼Œåœ¨æ±‚å€¼æ—¶è¢«ä¼˜å…ˆè®¡ç®—ã€‚</li>
</ul><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬å‰é¢çš„æ–¹æ³•å…¶å®å¹¶æ²¡æœ‰å®Œç¾åœ°è§£å†³å·¦é€’å½’ï¼Œå› ä¸ºå®ƒæ”¹å˜äº†åŠ æ³•è¿ç®—çš„ç»“åˆæ€§è§„åˆ™ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬èƒ½å¦æ—¢è§£å†³å·¦é€’å½’é—®é¢˜ï¼Œåˆä¸äº§ç”Ÿè®¡ç®—é¡ºåºçš„é”™è¯¯å‘¢ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚ä¸è¿‡æˆ‘ä»¬ä¸‹ä¸€è®²å†æ¥è§£å†³å®ƒã€‚ç›®å‰å…ˆå¿è€ä¸€ä¸‹ï¼Œå‡‘åˆç€ç”¨è¿™ä¸ªâ€œåŠåŠå­â€çš„ç®—æ³•å§ã€‚</p><h2>å®ç°è¡¨è¾¾å¼æ±‚å€¼</h2><p>ä¸Šé¢å¸®åŠ©ä½ ç†è§£äº†â€œé€’å½’â€çš„å«ä¹‰ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘è¦å¸¦ä½ å®ç°è¡¨è¾¾å¼çš„æ±‚å€¼ã€‚å…¶å®ï¼Œè¦å®ç°ä¸€ä¸ªè¡¨è¾¾å¼è®¡ç®—ï¼Œåªéœ€è¦åŸºäºASTåšæ±‚å€¼è¿ç®—ã€‚è¿™ä¸ªè®¡ç®—è¿‡ç¨‹æ¯”è¾ƒç®€å•ï¼Œåªéœ€è¦å¯¹è¿™æ£µæ ‘åšæ·±åº¦ä¼˜å…ˆçš„éå†å°±å¥½äº†ã€‚</p><p>æ·±åº¦ä¼˜å…ˆçš„éå†ä¹Ÿæ˜¯ä¸€ä¸ªé€’å½’ç®—æ³•ã€‚ä»¥ä¸Šæ–‡ä¸­â€œ2 + 3 * 5â€çš„ASTä¸ºä¾‹çœ‹ä¸€ä¸‹ã€‚</p><ul>
<li>å¯¹è¡¨è¾¾å¼çš„æ±‚å€¼ï¼Œç­‰ä»·äºå¯¹ASTæ ¹èŠ‚ç‚¹æ±‚å€¼ã€‚</li>
<li>é¦–å…ˆæ±‚å·¦è¾¹å­èŠ‚ç‚¹ï¼Œç®—å‡ºæ˜¯2ã€‚</li>
<li>æ¥ç€å¯¹å³è¾¹å­èŠ‚ç‚¹æ±‚å€¼ï¼Œè¿™æ—¶å€™éœ€è¦é€’å½’è®¡ç®—ä¸‹ä¸€å±‚ã€‚è®¡ç®—å®Œäº†ä»¥åï¼Œè¿”å›æ˜¯15ï¼ˆ3*5ï¼‰ã€‚</li>
<li>æŠŠå·¦å³èŠ‚ç‚¹ç›¸åŠ ï¼Œè®¡ç®—å‡ºæ ¹èŠ‚ç‚¹çš„å€¼17ã€‚</li>
</ul><p>ä»£ç å‚è§SimpleCalculator.Javaä¸­çš„evaluate()æ–¹æ³•ã€‚</p><p>è¿˜æ˜¯ä»¥â€œ2+3*5â€ä¸ºä¾‹ã€‚å®ƒçš„æ±‚å€¼è¿‡ç¨‹è¾“å‡ºå¦‚ä¸‹ï¼Œä½ å¯ä»¥çœ‹åˆ°æ±‚å€¼è¿‡ç¨‹ä¸­éå†äº†æ•´æ£µæ ‘ï¼š</p><pre><code>    Calculating: AdditiveExp          //è®¡ç®—æ ¹èŠ‚ç‚¹
        Calculating: IntLiteral      //è®¡ç®—ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹
        Result: 2                     //ç»“æœæ˜¯2
        Calculating: MulticativeExp   //é€’å½’è®¡ç®—ç¬¬äºŒä¸ªå­èŠ‚ç‚¹
            Calculating: IntLiteral
            Result: 3
            Calculating: IntLiteral
            Result: 5
        Result: 15                //å¿½ç•¥é€’å½’çš„ç»†èŠ‚ï¼Œå¾—åˆ°ç»“æœæ˜¯15
    Result: 17                    //æ ¹èŠ‚ç‚¹çš„å€¼æ˜¯17
</code></pre><p>ä½ å¯ä»¥è¿è¡Œä¸€ä¸‹ç¤ºä¾‹ç¨‹åºçœ‹çœ‹è¾“å‡ºç»“æœï¼Œè€Œä¸”æˆ‘ååˆ†å»ºè®®ä½ ä¿®æ”¹è¡¨è¾¾å¼ï¼Œè‡ªå·±åšåšå®éªŒï¼Œå¹¶è¯•ç€è®©è¡¨è¾¾å¼ä¸ç¬¦åˆè¯­æ³•ï¼Œçœ‹çœ‹è¯­æ³•åˆ†æç¨‹åºèƒ½ä¸èƒ½æ‰¾å‡ºé”™è¯¯æ¥ã€‚</p><h2>è¯¾ç¨‹å°ç»“</h2><p>ä»Šå¤©æˆ‘ä»¬å®ç°äº†ä¸€ä¸ªç®€å•çš„å…¬å¼è®¡ç®—å™¨ï¼Œå°½ç®¡ç®€å•ï¼Œç›¸ä¿¡ä½ å·²ç»æœ‰äº†æ”¶è·ã€‚é‚£ä¹ˆæˆ‘æ¥æ€»ç»“ä¸€ä¸‹ä»Šå¤©çš„é‡ç‚¹ï¼š</p><ul>
<li>åˆæ­¥äº†è§£ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•ï¼ŒçŸ¥é“å®ƒèƒ½è¡¨è¾¾ä¸»æµçš„è®¡ç®—æœºè¯­è¨€ï¼Œä»¥åŠä¸æ­£åˆ™æ–‡æ³•çš„åŒºåˆ«ã€‚</li>
<li>ç†è§£é€’å½’ä¸‹é™ç®—æ³•ä¸­çš„â€œä¸‹é™â€å’Œâ€œé€’å½’â€ä¸¤ä¸ªç‰¹ç‚¹ã€‚å®ƒè·Ÿæ–‡æ³•è§„åˆ™åŸºæœ¬ä¸Šæ˜¯åŒæ„çš„ï¼Œé€šè¿‡æ–‡æ³•ä¸€å®šèƒ½å†™å‡ºç®—æ³•ã€‚</li>
<li>é€šè¿‡éå†ASTå¯¹è¡¨è¾¾å¼æ±‚å€¼ï¼ŒåŠ æ·±å¯¹è®¡ç®—æœºç¨‹åºæ‰§è¡Œæœºåˆ¶çš„ç†è§£ã€‚</li>
</ul><p>åœ¨åé¢çš„è¯¾ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¼šåœ¨æ­¤åŸºç¡€ä¸Šé€æ­¥æ·±åŒ–ï¼Œæ¯”å¦‚åœ¨å˜é‡å£°æ˜ä¸­å¯ä»¥ä½¿ç”¨è¡¨è¾¾å¼ï¼Œåœ¨è¡¨è¾¾å¼ä¸­å¯ä»¥ä½¿ç”¨å˜é‡ï¼Œä¾‹å¦‚èƒ½å¤Ÿæ‰§è¡Œåƒè¿™æ ·çš„è¯­å¥ï¼š</p><pre><code>int A = 17ï¼›
int B = A + 10*2;
</code></pre><p>å®ç°äº†ä¸Šè¿°åŠŸèƒ½ä»¥åï¼Œè¿™ä¸ªç¨‹åºå°±è¶Šæ¥è¶Šæ¥è¿‘ä¸€ä¸ªç®€å•çš„è„šæœ¬è§£é‡Šå™¨äº†ï¼å½“ç„¶ï¼Œåœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜å¿…é¡»è§£å†³å·¦é€’å½’çš„é—®é¢˜ã€‚æ‰€ä»¥ä¸‹ä¸€è®²ï¼Œæˆ‘ä¼šå¸¦ä½ å¡«æ‰å·¦é€’å½’è¿™ä¸ªå‘ã€‚æˆ‘ä»¬å­¦ä¹ å’Œå·¥ä½œçš„è¿‡ç¨‹ï¼Œå°±æ˜¯åœ¨ä¸åœåœ°æŒ–å‘ã€å¡«å‘ï¼Œä½ è¦æœ‰ä¿¡å¿ƒï¼Œåªè¦åšå¼ºèµ°è¿‡å¡«å‘è¿™æ®µè·¯ï¼Œä½ çš„èŒä¸šç”Ÿæ¶¯å°†ä¼šæ„ˆå‘å¹³å¦ï¼</p><h2>ä¸€è¯¾ä¸€æ€</h2><p>é€’å½’ç®—æ³•æ˜¯å¾ˆå¥½çš„è‡ªé¡¶å‘ä¸‹è§£å†³é—®é¢˜çš„æ–¹æ³•ï¼Œæ˜¯è®¡ç®—æœºé¢†åŸŸçš„ä¸€ä¸ªæ ¸å¿ƒçš„æ€ç»´æ–¹å¼ã€‚æ‹¥æœ‰è¿™ç§æ€ç»´æ–¹å¼ï¼Œå¯ä»¥è¯´æ˜¯ç¨‹åºå‘˜ç›¸å¯¹äºéç¨‹åºå‘˜çš„ä¸€ç§ä¼˜åŠ¿ã€‚</p><p>é‚£ä¹ˆï¼Œä½ æ˜¯å¦ç”¨é€’å½’ç®—æ³•æˆ–é€’å½’æ€ç»´è§£å†³è¿‡å·¥ä½œä¸­æˆ–è€…ç”Ÿæ´»ä¸­å­˜åœ¨çš„æŸäº›é—®é¢˜ï¼Ÿä½ èƒ½å¦å†æ‰¾ä¸€äº›è¯æ®è¯æ˜ä¸€ä¸‹ï¼Œå“ªäº›è¯­æ³•è§„åˆ™åªèƒ½ç”¨ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•è¡¨è¾¾ï¼Œç”¨æ­£åˆ™æ–‡æ³•æ˜¯æ€æ ·éƒ½å†™ä¸å‡ºæ¥çš„ï¼Ÿ æ¬¢è¿åœ¨ç•™è¨€åŒºå’Œæˆ‘ä¸€èµ·è®¨è®ºã€‚</p><p>æœ€åï¼Œååˆ†æ„Ÿè°¢ä½ çš„é˜…è¯»ï¼Œå¦‚æœè¿™ç¯‡æ–‡ç« è®©ä½ æœ‰æ‰€æ”¶è·ï¼Œä¹Ÿæ¬¢è¿ä½ å°†å®ƒåˆ†äº«ç»™æ›´å¤šçš„æœ‹å‹ã€‚</p><p>å¦å¤–ï¼Œä¸ºäº†ä¾¿äºä½ æ›´å¥½åœ°å­¦ä¹ ï¼Œæˆ‘å°†æœ¬èŠ‚è¯¾çš„ç¤ºä¾‹ç¨‹åºæ”¾åˆ°äº†<a href="https://gitee.com/richard-gong/PlayWithCompiler/blob/master/lab/craft/SimpleCalculator.java">ç äº‘</a>å’Œ<a href="https://github.com/RichardGong/PlayWithCompiler/blob/master/lab/craft/SimpleCalculator.java">GitHub</a>ä¸Šï¼Œä½ å¯ä»¥çœ‹ä¸€ä¸‹ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/00/66/008ff7b6092be5463a414a0e0771dc66.jpg" alt=""></p><h2>ç²¾é€‰ç•™è¨€ï¼š</h2>
        <ul>
        
<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            é˜¿å  2019-08-19 04:44:39
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            å¦‚æœæ²¡æœ‰åŸºç¡€ æ¯”è¾ƒéš¾å¬å¾—æ‡‚ æ¯”å¦‚æ–‡æ³•æ¨å¯¼ ç»ˆç»“ç¬¦ éç»ˆç»“ç¬¦ è¿™äº›æ¦‚å¿µ æœ¬èº«å°±ä¸å¥½ç†è§£ [5èµ]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-08-19 08:14:15</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">å®é™…ä¸Šï¼Œè¿™äº›çœ‹ä¸Šå»æ¯”è¾ƒæ­£å¼çš„æœ¯è¯­ï¼Œæ˜¯æˆ‘åœ¨è¿™ç¯‡æ–‡ç¨¿çš„æœ€åä¸€ç‰ˆæ‰åŠ ä¸Šå»çš„ã€‚å…¶å®ï¼Œä½ å¿½ç•¥è¿™äº›æœ¯è¯­ï¼Œä¹Ÿå®Œå…¨èƒ½çœ‹æ‡‚æ–‡ç¨¿ã€‚åŠ ä¸Šè¿™äº›æœ¯è¯­ï¼Œæ˜¯ä¸ºåé¢æ­£å¼è®²ç®—æ³•åšä¸ªé“ºå«ã€‚<br><br>æˆ‘çŸ¥é“ç¼–è¯‘åŸç†çš„æœ¯è¯­æœ¬èº«å°±èƒ½å“å€’å¾ˆå¤šäººã€‚ä½†æ˜¯è¿™é—¨è¯¾ç¨‹çš„é‡ç‚¹åœ¨äºå¸®ä½ å»ºç«‹ç›´è§‰ï¼ˆIntuitionï¼‰ã€‚å»ºç«‹èµ·ç›´è§‰æ¥ä»¥åï¼Œä½ å…¶å®å·²ç»æ˜ç™½äº†è¯­æ³•åˆ†æçš„è¿‡ç¨‹ï¼Œä½ å·²ç»å¯¹å®ƒæœ‰ç†Ÿæ‚‰æ„Ÿäº†ã€‚ä¹‹åä½ å†æŠŠè¿™äº›ç›´è§‰è·Ÿæœ¯è¯­è”ç³»åœ¨ä¸€èµ·ï¼Œå°±ä¸è§‰å¾—å›°éš¾äº†ã€‚<br><br>å†æ¬¡å¼ºè°ƒä¸€ç‚¹ï¼Œé¦–å…ˆå»ºç«‹ç›´è§‰ï¼Œç„¶åå†è¿½æ±‚å¯¹æœ¯è¯­å’Œç®—æ³•çš„ä¸¥æ ¼ç†è§£ã€‚<br><br>å­¦ç¼–è¯‘åŸç†æœ€å¤§çš„å›°éš¾ä¸æ˜¯è¿™é—¨è¯¾æœ¬èº«çš„éš¾åº¦ï¼Œè€Œæ˜¯æˆ‘ä»¬å¯¹å®ƒçš„ç•æƒ§å¿ƒç†ã€‚ç›¸ä¿¡ä½ è‡ªå·±ï¼</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            ğŸ˜Š  2019-08-19 08:48:22
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            é€’å½’å®¹æ˜“è¡¨è¾¾å¾ˆå¤šç®—æ³•ï¼Œä½†æ˜¯è®¡ç®—æœºæœ¬èº«æ‰§è¡Œé€’å½’æœ‰æ ˆæº¢å‡ºå’Œæ•ˆç‡ç­‰é—®é¢˜ï¼Œå¦‚ä½•å¹³è¡¡å‘¢ï¼Ÿ [3èµ]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-08-19 09:58:49</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">ä½ è¯´çš„å¾ˆå¯¹ï¼<br>å®é™…ä¸Šï¼Œä½ æåˆ°äº†é€’å½’çš„ä¼˜åŒ–é—®é¢˜ã€‚è¿™æ˜¯ä¸€ä¸ªä¸“é—¨çš„ç ”ç©¶é¢†åŸŸã€‚åœ¨SICPï¼ˆã€Šè®¡ç®—æœºç¨‹åºçš„æ„é€ å’Œè§£é‡Šã€‹ï¼‰è¿™æœ¬ä¹¦ä¸­ï¼Œå¯¹è¿™ä¸ªé—®é¢˜ä¹Ÿå¾ˆé‡è§†ã€‚<br><br>æˆ‘ä»¬ä¸‹ä¸€è®²ä¼šæåˆ°å°¾é€’å½’çš„æƒ…å½¢ï¼Œä¹Ÿå°±æ˜¯çº¿æ€§è¿­ä»£çš„é€’å½’å‡½æ•°ã€‚å®ƒå®é™…ä¸Šå¯ä»¥è½¬åŒ–æˆå¾ªç¯è¯­å¥ï¼Œå°±æ²¡æœ‰å¯¹æ ˆçš„æ¶ˆè€—äº†ã€‚è¿™æ˜¯åœ¨ç¼–è¯‘æŠ€æœ¯ä¸­å¸¸ç”¨çš„ä¸€ç§ä¼˜åŒ–ç­–ç•¥ã€‚ä½ å¯ä»¥æå‰äº†è§£ä¸€ä¸‹å°¾é€’å½’ : )</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            è®¸ç«¥ç«¥  2019-08-19 16:17:19
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            è€å¸ˆä½ å¥½ï¼Œ<br>additiveExpression<br>    :   multiplicativeExpression<br>    |   additiveExpression Plus multiplicativeExpression<br>    ;<br> <br>multiplicativeExpression<br>    :   IntLiteral<br>    |   multiplicativeExpression Star IntLiteral<br>    ;<br><br>è¿™ç§DSLæ€ä¹ˆç†è§£ï¼Ÿ [2èµ]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-08-19 18:10:14</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">è¿™ä¸ªå®é™…ä¸Šå°±æ˜¯è¯­æ³•è§„åˆ™ï¼Œæ˜¯ç”¨BNFè¡¨è¾¾çš„ã€‚ä»¥addtiveä¸ºä¾‹ï¼Œå®ƒæœ‰ä¸¤ä¸ªäº§ç”Ÿå¼ã€‚<br>äº§ç”Ÿå¼1ï¼šä¸€ä¸ªä¹˜æ³•è¡¨è¾¾å¼<br>äº§ç”Ÿå¼2ï¼šä¸€ä¸ªåŠ æ³•è¡¨è¾¾å¼ + ä¹˜æ³•è¡¨è¾¾å¼ã€‚<br>é€šè¿‡ä¸Šé¢ä¸¤ä¸ªäº§ç”Ÿå¼çš„ç»„åˆï¼Œç‰¹åˆ«æ˜¯äº§ç”Ÿå¼2çš„é€’å½’è°ƒç”¨ï¼Œå°±èƒ½æ¨å¯¼å‡ºæ‰€æœ‰çš„åŠ å‡ä¹˜æ•°ç®—æœ¯è¡¨è¾¾å¼ã€‚<br>æ¯”å¦‚ï¼Œå¯¹äº2*3è¿™ä¸ªè¡¨è¾¾å¼ï¼Œè¿ç”¨çš„æ˜¯äº§ç”Ÿå¼1ã€‚<br>å¯¹äº2+3*5ï¼Œè¿ç”¨çš„æ˜¯äº§ç”Ÿå¼2ã€‚<br>æˆ‘ä¸Šé¢ç”¨çš„è¯­æ³•è§„åˆ™çš„å†™æ³•ï¼Œå®é™…ä¸Šæ˜¯åé¢ä¼šç”¨åˆ°çš„Antlrå·¥å…·çš„å†™æ³•ã€‚ä½ ä¹Ÿå¯ä»¥è¿™æ ·ä¹¦å†™ï¼Œå°±æ˜¯ä¸€èˆ¬æ•™æä¸Šçš„å†™æ³•ï¼š<br>A -&gt; M |  A + M<br>M -&gt; int | M * int<br>æˆ‘ä»¬æ¯ä¸ªéç»ˆç»“ç¬¦åªç”¨äº†ä¸€ä¸ªå¤§å†™å­—æ¯ä»£è¡¨ï¼Œæ¯”è¾ƒç®€æ´ã€‚æˆ‘åœ¨æ–‡ç¨¿ä¸­ç”¨æ¯”è¾ƒé•¿çš„å•è¯ï¼Œæ˜¯ä¸ºäº†å®¹æ˜“ç†è§£å…¶å«ä¹‰ã€‚<br>å…¶ä¸­çš„ç«–çº¿ï¼Œæ˜¯é€‰æ‹©å…¶ä¸€ã€‚ä½ è¿˜å¯ä»¥æ‹†æˆæœ€ç®€å•çš„æ–¹å¼ï¼Œå½¢æˆ4æ¡è§„åˆ™ï¼š<br>A -&gt; M<br>A -&gt;  A + M<br>M -&gt; int<br>M -&gt; M * int<br>ä¸Šé¢è¿™äº›ä¸åŒçš„å†™æ³•ï¼Œéƒ½æ˜¯ç­‰ä»·çš„ã€‚ä½ è¦èƒ½å¤Ÿçœ‹ä¹ æƒ¯ï¼Œåœ¨ä¸åŒçš„å†™æ³•ä¸­è‡ªç”±åˆ‡æ¢ã€‚<br>ä¸çŸ¥é“æ˜¯å¦è§£ç­”äº†ä½ çš„ç–‘é—®ã€‚<br></div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            æœ±å¤©è¶…  2019-08-19 20:18:55
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            è¯¾ä¸‹å¯ä»¥å‚è€ƒä¸‹:ã€Šç¼–è¯‘ç³»ç»Ÿé€è§†ï¼šå›¾è§£ç¼–è¯‘åŸç†ã€‹ [1èµ]
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            Void_seT  2019-08-19 11:12:59
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            â€œ2+3*5â€çš„è¡¨è¾¾å¼æ¨å¯¼ä¸­ï¼Œç¬¬ä¸‰è¡Œåˆ°ç¬¬å››è¡Œçš„æ¨å¯¼<br>--&gt;IntLiteral + IntLiteral * multiplicativeExpression<br>æ˜¯å¦åº”è¯¥æ˜¯<br>--&gt;IntLiteral + multiplicativeExpression * IntLiteral<br>å› ä¸ºä¸Šé¢å®šä¹‰çš„multiplicativeExpressionåªåŒ…å«äº†å·¦è¾¹multiplicativeExpression star IntLiteralï¼Œå´æ²¡æœ‰åŒ…å«IntLiteral star multiplicativeExpressionã€‚ [1èµ]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-08-19 15:26:41</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">ä½ æå¾—å¾ˆå¯¹ã€‚<br>å¯èƒ½æ˜¯ä»å³é€’å½’çš„æ¨å¯¼è¿‡ç¨‹æ‹·è´è¿‡æ¥ï¼Œæ²¡æ”¹å½»åº•ã€‚<br>è°¢è°¢ï¼</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            é¸ æ‘©æ™º  2019-08-19 23:23:29
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            è€å¸ˆæ‚¨å¥½ï¼Œè¯·é—®è¯­æ³•å’Œæ–‡æ³•æœ‰ä»€ä¹ˆåŒºåˆ«å’Œè”ç³»ï¼Ÿ 
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            å®‰æ’  2019-08-19 23:07:10
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            è¿™ä¸€èŠ‚å¯¹é›¶åŸºç¡€çš„äººè¿˜æ˜¯æœ‰éš¾åº¦çš„ 
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-08-19 23:31:42</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">å¿½ç•¥å„ç§æœ¯è¯­ã€‚ä¸“æ³¨äºç†è§£è¿‡ç¨‹ï¼Œå»ºç«‹ç›´è§‚è®¤è¯†ï¼</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            è®¸ç«¥ç«¥  2019-08-19 15:40:11
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            è¿™èŠ‚æœ‰ç‚¹éš¾ï¼Œè¦å¥½å¥½æ¶ˆåŒ–ä¸€ä¸‹ã€‚ 
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-08-19 18:10:26</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">åŠ æ²¹ï¼</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            èŒå¦»çš„è·¯é£  2019-08-19 15:12:57
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            è€å¸ˆï¼Œæ„Ÿè§‰æ²¡æœ‰åŸºç¡€ï¼Œè¿™å‡ ç« éƒ½å¥½éš¾ç†è§£å•Šã€‚è¿˜æœ‰javaä»£ç ä¹Ÿä¸æ˜¯å¾ˆç†Ÿæ‚‰ã€‚è€å¸ˆå»ºè®®æˆ‘è¿™ç§æ²¡æœ‰åŸºç¡€çš„å…ˆå›«å›µåæ£çš„çœ‹ï¼Œç­‰æœ‰ä¸€å®šåŸºç¡€äº†ï¼Œå†å›æ¥æ…¢æ…¢ç»†çœ‹å— 
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">ä½œè€…å›å¤2019-08-19 18:21:46</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">ä½ çš„å›°éš¾æ˜¯å¾ˆå¤šåŒå­¦éƒ½ä¼šé‡åˆ°çš„ã€‚<br>æˆ‘çš„å»ºè®®ï¼š<br>1.é‡åœ¨å»ºç«‹ç›´è§‰è®¤è¯†ï¼Œä¹Ÿå°±æ˜¯å…ˆç†è§£è¿™ä»¶äº‹æƒ…ï¼Œä¹‹åå†å»ç®¡æœ¯è¯­ã€ç®—æ³•ä»€ä¹ˆçš„ã€‚<br>2.ä¸€å®šè¦åŠ¨æ‰‹ã€‚æˆ‘ä»¬åªæœ‰åŠ¨æ‰‹ï¼Œæ‰èƒ½çœŸæ­£ç†è§£æ‰€å­¦çš„ã€‚å»ºè®®ä½ æ‰¾å‡ºä½ çš„é¢†åŸŸçš„ä¸€ä¸ªé—®é¢˜ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½è·Ÿç€æˆ‘ä»¬çš„è¯¾ç¨‹è§£å†³å®ƒã€‚<br><br>å¦å¤–ï¼Œæˆ‘æŠŠå›å¤å¦ä¸€ä¸ªåŒå­¦çš„ä¿¡æ¯ä¹Ÿè´´åœ¨è¿™é‡Œï¼Œä¾›ä½ å‚è€ƒï¼š<br><br>é˜¿å<br>2019-08-19 04:44<br>å¦‚æœæ²¡æœ‰åŸºç¡€ æ¯”è¾ƒéš¾å¬å¾—æ‡‚ æ¯”å¦‚æ–‡æ³•æ¨å¯¼ ç»ˆç»“ç¬¦ éç»ˆç»“ç¬¦ è¿™äº›æ¦‚å¿µ æœ¬èº«å°±ä¸å¥½ç†è§£<br>03 | è¯­æ³•åˆ†æï¼ˆä¸€ï¼‰ï¼šçº¯æ‰‹å·¥æ‰“é€ å…¬å¼è®¡ç®—å™¨<br>ä½œè€…å›å¤ï¼š<br>å®é™…ä¸Šï¼Œè¿™äº›çœ‹ä¸Šå»æ¯”è¾ƒæ­£å¼çš„æœ¯è¯­ï¼Œæ˜¯æˆ‘åœ¨è¿™ç¯‡æ–‡ç¨¿çš„æœ€åä¸€ç‰ˆæ‰åŠ ä¸Šå»çš„ã€‚å…¶å®ï¼Œä½ å¿½ç•¥è¿™äº›æœ¯è¯­ï¼Œä¹Ÿå®Œå…¨èƒ½çœ‹æ‡‚æ–‡ç¨¿ã€‚åŠ ä¸Šè¿™äº›æœ¯è¯­ï¼Œæ˜¯ä¸ºåé¢æ­£å¼è®²ç®—æ³•åšä¸ªé“ºå«ã€‚<br>æˆ‘çŸ¥é“ç¼–è¯‘åŸç†çš„æœ¯è¯­æœ¬èº«å°±èƒ½å“å€’å¾ˆå¤šäººã€‚ä½†æ˜¯è¿™é—¨è¯¾ç¨‹çš„é‡ç‚¹åœ¨äºå¸®ä½ å»ºç«‹ç›´è§‰ï¼ˆIntuitionï¼‰ã€‚å»ºç«‹èµ·ç›´è§‰æ¥ä»¥åï¼Œä½ å…¶å®å·²ç»æ˜ç™½äº†è¯­æ³•åˆ†æçš„è¿‡ç¨‹ï¼Œä½ å·²ç»å¯¹å®ƒæœ‰ç†Ÿæ‚‰æ„Ÿäº†ã€‚ä¹‹åä½ å†æŠŠè¿™äº›ç›´è§‰è·Ÿæœ¯è¯­è”ç³»åœ¨ä¸€èµ·ï¼Œå°±ä¸è§‰å¾—å›°éš¾äº†ã€‚<br>å†æ¬¡å¼ºè°ƒä¸€ç‚¹ï¼Œé¦–å…ˆå»ºç«‹ç›´è§‰ï¼Œç„¶åå†è¿½æ±‚å¯¹æœ¯è¯­å’Œç®—æ³•çš„ä¸¥æ ¼ç†è§£ã€‚<br>å­¦ç¼–è¯‘åŸç†æœ€å¤§çš„å›°éš¾ä¸æ˜¯è¿™é—¨è¯¾æœ¬èº«çš„éš¾åº¦ï¼Œè€Œæ˜¯æˆ‘ä»¬å¯¹å®ƒçš„ç•æƒ§å¿ƒç†ã€‚ç›¸ä¿¡ä½ è‡ªå·±ï¼<br></div>
</div>
            
    </div>
</li>
            </ul>
</div>
</body>
</html>